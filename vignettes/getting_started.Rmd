---
title: "Commencer"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{getting_started}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```
Le package turbidata est un package destiné à facilité une analyse de résultat de données obtenu à l'aide du turbiscan CLASSIC de Formulaction. Ce n'est en auccun cas un package officiel fournis par le fabricant.

## Installation
Pour installer, exécuter simplement la commande
```r
remotes::install_github('riedam/turbidata')
```
Une fois installé, ne pas oublié de l'importer
```r
library(turbidata)
```
Obtenir la version du package :
```r
packageVersion('turbidata')
```

## Aquisition des données
La première étape dans l'utilisation du package est l'aquisition des données. Pour ce faire réalisé une aquisition à l'aide du turbiscan CLASSIC de Formulaction. Une fois les données obtenu, assurez-vous de vous trouver sur la fenètre du logiciel turbisoft et faites `ctrl+C`. Rendez-vous alors dans un document Excel, cliquez dans la première case (A1) et faite `ctrl+V`. Vous pouvez enregistrer le document Excel au format `csv` ou `xslx`.

Important
  : Ne réaliser pas d'étape entre l'aquisition des données et le `ctrl+C`/`ctrl+V` (pas de zoom, pas de passage en relatif, ...). Conserver le fichier dans sont état d'origine
  
## Création du Projet
### Projet RStudio
...

### Arborescence
Vous pouvez créer à la racine de votre projet un dossier `data/` pour stoker vos données.
Il est aussi conseillé de créer un dossier `R/` ou `script/` pour stocker vos fichiers R.
Une fois que vous exécuterez les commandes le nécessitant, des dossiers `cache/` et `output/` son susceptible de se créer automatiquement.

Note
  : Nous avons ajouté un fichier `test.csv` dans le dossier `data/` qui servira d'exemple tout au long de cette documentation.

Votre projet ressemblera alors à ceci :
```yml
Racine du projet/
 |- cache/
 |  |- #Contient des fichier cache
 |- data/
 |  |- test.csv
 |  |- #Contient les données à importer. Placer ici les fichiers csv et xlsx
 |- output/
 |  |- #Contient l'ensemble des données exporter avec $export()
 |- R/
 |  |- #Placer ici vos fichier de script (en .R)
 |- .RData #Fichier généré par RStudio
 |- .Rhistory #Fichier généré par RStudio
 |- <nom_projet>.Rproj #Fichier généré par RStudio

```

## Code
### Première commande
La première étape correspond à importer les données et les stocker dans une variable (ici `test_data`). Pour ce faire, il faut utiliser la commande :
```r
test_data <- turbidata("test.csv")
```
Le script cherche automatiquement les données dans le dossier `data/` pour les importer.

A partir de ce moment là, il est alors possible de réaliser divers commandes en fonction de l'objectif

### Absolut/Relatif
Par default, lors de l'importation, les données sont en absolut, au même titre que lors de l'utilisation du logiciel turbisoft. Il est néanmoins possible de passer d'un état à l'autre par l'utilisation des commandes suivante :
```r
test_data$use_relative()

test_data$use_absolute()
```
Important
  : L'utilisation de ces commades doit toujours se faire sur des lignes séparées du reste du code. De plus, pas besoin de réafecter la variable (avec `<-`) : ces commandes édite directement la valeur.

Si un moment donné vous avez un doute si vous êtes en relatif ou en absolut, vous pouvé utilisé la commande
```r
test_data$type
# Retour possible : "absolute", "relative" (et "average_area", voir ci-dessous) 
```

### Zone des valeurs moyennes 
Il est possible de réalisé le calcule de zone des valeurs moyenne par la commande suivante :
```r
test_data$average_area(min, max)
# min: hauteur minimal en cm (nombre)
# max: hauteur maximal en cm (nombre)
```
Cette commande seul n'a pas de grand intéret mais elle peut être couplé avec l'une des deux commandes suivante.

### Exportation
#### ggplot
La méthode `$ggplot` permet d'exporter les données en graphique. Elle peut être directement utilisé sur les données relatif/absolue ou bien sur des données calculées (Zone des valeurs moyennes). Exemples :
```r
test_data$ggplot
test_data$average_area(min, max)$ggplot
```

#### Fichier
Il est possible d'exporter les données sous forme de fichier pour les analyser avec un autre programme. Par default, le fichier est exporté sous format `csv` dans le dossier `output/`. L'exportation peut se faire directement sur les données relatif/absolue ou bien sur des données calculées (Zone des valeurs moyennes). Exemples :
```r
test_data$export()
test_data$average_area(min, max)$export()
```
